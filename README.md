# domtblout2viz

`domtblout2viz` is a Python tool for **parsing** and **visualizing** domain hits from `.domtblout` files generated by [`hmmscan`](http://hmmer.org/). It filters overlapping domains and displays only the most significant ones based on e-value.

## Requirements

This script was tested with Python 3.11 and requires the following packages:

- `argparse`
- `pandas`
- `matplotlib`
- `hmmer` (used to generate the `.domtblout` file, but not directly used in the script)

You can install everything using Conda:

```bash
conda create -n domtblout2viz python=3.11 pandas matplotlib argparse -c conda-forge
conda activate domtblout2viz
```

## Usage

```bash
python script.py -f <input.domtblout> [options]
```

### Required arguments

- `-f`, `--filename`  
  Path to the input `.domtblout` file (generated by `hmmscan` using the `--domtblout` option).

### Optional arguments

- `-o`, `--output`  
  Output image filename (`.png`). Defaults to the input filename with `-results.png` suffix.

- `-l`, `--limit`  
  Limits the number of hits to process (useful for testing). Default is all hits.

## Example

```bash
python script.py -f results.domtblout -o results.png 
```

This will generate `results.png` with a visual representation of the most significant non-overlapping domains per sequence.

## Output

- A `.png` image showing the domain hits per sequence.
- Each line represents a sequence, and each block is a detected domain.
- Domain names and alignment coordinates are annotated.

## Notes

- Only hits with **i-evalue â‰¤ 0.05** are considered.
- The script saves the plot using `matplotlib` and displays it afterward.
